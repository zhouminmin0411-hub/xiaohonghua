# 小红花 - 儿童习惯养成激励小程序

一个帮助家长引导孩子养成好习惯的微信小程序。通过游戏化的任务-奖励机制，让习惯养成更有趣！

## 项目概述

**小红花**是一款基于信任理念的儿童习惯养成工具。孩子通过完成任务获得小红花积分，用积分兑换心仪的奖励。家长可以轻松管理任务和奖励，并通过点赞功能给予孩子情感支持。

### 核心特性

- 🎯 **双视角设计**：小朋友视角和家长视角无缝切换
- 🌸 **积分奖励系统**：完成任务获得小红花，兑换奖励
- ❤️ **家长点赞功能**：情感鼓励，而非审核管控
- 🎮 **游戏化体验**：精美动画，趣味互动
- ⚡ **轻量管理**：家长一次配置，长期自运转

## 技术栈

### 前端（小程序）
- **框架**：微信小程序原生开发
- **UI组件库**：Vant Weapp
- **数据管理**：Mock数据 + 本地存储（开发阶段）

### 后端（计划）
- **语言**：Node.js
- **框架**：Express.js
- **ORM**：Sequelize
- **数据库**：MySQL
- **部署**：阿里云ECS

## 项目结构

```
xiaohonghua/
├── PRD/                          # 产品需求文档
│   ├── PRD.md                    # 完整PRD
│   └── 设计草图.png               # UI设计参考
├── miniprogram/                  # 小程序源码
│   ├── mockData/                 # Mock数据
│   │   ├── tasks.json           # 任务数据
│   │   ├── rewards.json         # 奖励数据
│   │   ├── taskRecords.json     # 任务记录
│   │   ├── user.json            # 用户数据
│   │   └── pointHistory.json    # 积分历史
│   ├── pages/                    # 页面
│   │   ├── index/               # 小朋友首页
│   │   ├── rewards/             # 积分商城
│   │   ├── settings/            # 设置页
│   │   ├── parent/              # 家长首页
│   │   ├── parent-tasks/        # 任务管理
│   │   ├── parent-rewards/      # 奖励管理
│   │   └── parent-config/       # 每周配置
│   ├── utils/                    # 工具函数
│   │   ├── mockApi.js           # Mock API
│   │   ├── storage.js           # 存储工具
│   │   └── animation.js         # 动画工具
│   ├── app.js                    # 应用入口
│   ├── app.json                  # 应用配置
│   ├── app.wxss                  # 全局样式
│   └── package.json              # 依赖配置
├── backend/                      # 后端代码（待开发）
├── 项目实施清单.md                # 实施计划
└── README.md                     # 项目说明

```

## 快速开始

### 前置要求

- 微信开发者工具
- Node.js 16+
- npm 或 yarn

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd xiaohonghua
```

2. **安装小程序依赖**
```bash
cd miniprogram
npm install
```

3. **构建npm包**
- 打开微信开发者工具
- 导入项目（选择 miniprogram 目录）
- 工具 → 构建 npm

4. **运行项目**
- 在微信开发者工具中点击"编译"
- 选择"不校验合法域名" （开发阶段）

### 体验功能

#### 小朋友端
1. **首页**：查看任务列表，领取并完成任务
2. **积分商城**：浏览奖励，使用小红花兑换
3. **设置**：查看个人信息

#### 家长端
1. 在设置页点击"切换至家长视角"
2. 输入密码：`0000`（Mock默认密码）
3. 体验任务管理、奖励管理、积分调整等功能

## 核心功能说明

### 1. 任务系统
- **任务类型**：每日任务、挑战任务、家务任务
- **任务状态**：未领取 → 已领取 → 已完成
- **即时奖励**：完成任务立即获得小红花

### 2. 积分系统
- 完成任务获得积分
- 兑换奖励扣减积分
- 家长可手动调整积分
- 可配置每周自动发放

### 3. 奖励商城
- **虚拟奖励**：头像框、特效等
- **实物奖励**：玩具、活动等
- **兑换动画**：粒子爆炸效果

### 4. 家长点赞
- 家长可查看孩子完成的任务
- 一键点赞，传递"我看见了"
- 点赞不影响积分，纯情感支持

## 开发进度

### ✅ 已完成
- [x] PRD文档编写
- [x] 数据模型设计
- [x] Mock数据准备
- [x] 小程序项目初始化
- [x] 全局样式配置（基于PRD色板）
- [x] 小朋友端页面开发
  - [x] 首页（任务列表）
  - [x] 积分商城
  - [x] 设置页
- [x] 家长端页面开发
  - [x] 家长首页
  - [x] 任务管理
  - [x] 奖励管理
  - [x] 每周配置
- [x] 核心动画实现
  - [x] 小红花飞入动画
  - [x] 粒子爆炸效果
  - [x] 按钮点击反馈

### 🚧 进行中
- [ ] 后端API开发
- [ ] 前后端联调

### 📋 待开发
- [ ] 数据库初始化
- [ ] 微信登录集成
- [ ] 服务器部署
- [ ] 小程序审核发布

## 设计规范

基于PRD第10章，项目遵循以下设计规范：

### 色板
- **主色**：小红花红 `#FF5A5A`
- **辅助色**：柔粉 `#FFE8E8`、奶油黄 `#FFF6D9`、幼芽绿 `#C8E6C9`
- **中性色**：主文字黑 `#333333`、次文字灰 `#666666`

### 组件规范
- **卡片**：圆角 24rpx，阴影 `0 4px 8px rgba(0,0,0,0.06)`
- **按钮**：主按钮使用品牌红，圆角 16px
- **字号**：标题 32px，卡片标题 20px，正文 16px

## 配置说明

### Mock数据配置

所有Mock数据位于 `miniprogram/mockData/` 目录：

- **tasks.json**：预置10个示例任务
- **rewards.json**：预置8个示例奖励
- **user.json**：默认用户信息
- **家长密码**：默认为 `0000`

### 本地存储Key

- `userInfo`: 用户信息
- `currentPoints`: 当前积分
- `taskRecords`: 任务记录
- `pointHistory`: 积分历史
- `customTasks`: 自定义任务
- `customRewards`: 自定义奖励
- `weeklyConfig`: 每周配置

## 后续规划

### MVP后扩展
- 多孩子支持
- 任务模板市场
- 亲子PK功能
- 虚拟花园
- 成就系统
- AI任务推荐
- 数据可视化报表

## 注意事项

1. **当前为Mock版本**：所有数据存储在本地，仅用于前端开发和演示
2. **Vant Weapp**：需要在微信开发者工具中构建npm
3. **家长密码**：生产环境需要加密存储
4. **积分上限**：建议设置为99,999

## 贡献指南

欢迎提交Issue和Pull Request！

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎联系。

---

**让习惯养成更有趣，让成长更快乐！🌸**

